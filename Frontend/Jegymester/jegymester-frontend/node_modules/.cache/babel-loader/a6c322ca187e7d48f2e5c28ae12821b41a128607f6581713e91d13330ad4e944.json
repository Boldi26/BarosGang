{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\folde\\\\Desktop\\\\Jegymester\\\\jegymester-frontend\\\\src\\\\AddScreening.tsx\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { Container, Title, TextInput, Button, Group, Text } from '@mantine/core';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AddScreening() {\n  _s();\n  const [form, setForm] = useState({\n    movieId: '',\n    dateTime: '',\n    room: ''\n  });\n  const [message, setMessage] = useState('');\n  const [error, setError] = useState('');\n\n  // Formátum ellenőrzés\n  const validateForm = () => {\n    if (!/^\\d+$/.test(form.movieId)) {\n      setError('A film azonosító csak szám lehet!');\n      return false;\n    }\n    if (!/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}$/.test(form.dateTime)) {\n      setError('A dátum formátuma hibás! Használja ezt a formátumot: ÉÉÉÉ-HH-NNTóó:pp (pl. 2025-04-05T14:30)');\n      return false;\n    }\n    if (!form.room.trim()) {\n      setError('A terem megadása kötelező!');\n      return false;\n    }\n    setError('');\n    return true;\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    try {\n      const response = await fetch('http://localhost:5214/api/Screening/add-screening', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          movieId: parseInt(form.movieId),\n          dateTime: form.dateTime,\n          room: form.room\n        })\n      });\n      if (response.ok) {\n        setMessage('Vetítés sikeresen hozzáadva!');\n        setForm({\n          movieId: '',\n          dateTime: '',\n          room: ''\n        });\n      } else {\n        const errorData = await response.json();\n        setError(`Hiba történt: ${response.status} - ${errorData.message || 'Ismeretlen hiba'}`);\n      }\n    } catch (error) {\n      setError('Kapcsolódási hiba történt a szerverhez!');\n      console.error('Hiba:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    size: \"sm\",\n    px: \"xs\",\n    children: [/*#__PURE__*/_jsxDEV(Title, {\n      order: 2,\n      mb: \"md\",\n      children: \"\\xDAj vet\\xEDt\\xE9s hozz\\xE1ad\\xE1sa\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(Text, {\n      color: \"green\",\n      mb: \"md\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(Text, {\n      color: \"red\",\n      mb: \"md\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(TextInput, {\n        label: \"Film azonos\\xEDt\\xF3\",\n        placeholder: \"Pl. 123\",\n        value: form.movieId,\n        onChange: e => setForm({\n          ...form,\n          movieId: e.target.value\n        }),\n        mb: \"sm\",\n        required: true,\n        type: \"number\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        label: \"Id\\u0151pont\",\n        placeholder: \"\\xC9\\xC9\\xC9\\xC9-HH-NNT\\xF3\\xF3:pp (pl. 2025-04-05T14:30)\",\n        value: form.dateTime,\n        onChange: e => setForm({\n          ...form,\n          dateTime: e.target.value\n        }),\n        mb: \"sm\",\n        required: true,\n        type: \"datetime-local\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextInput, {\n        label: \"Terem\",\n        placeholder: \"Pl. Terem 1\",\n        value: form.room,\n        onChange: e => setForm({\n          ...form,\n          room: e.target.value\n        }),\n        mb: \"lg\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Group, {\n        justify: \"flex-end\",\n        mt: \"md\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"submit\",\n          color: \"blue\",\n          children: \"Hozz\\xE1ad\\xE1s\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 5\n  }, this);\n}\n_s(AddScreening, \"BBaoV/eeMCmQR8mm2QtynpLqt/o=\");\n_c = AddScreening;\nexport default AddScreening;\nvar _c;\n$RefreshReg$(_c, \"AddScreening\");","map":{"version":3,"names":["useState","Container","Title","TextInput","Button","Group","Text","jsxDEV","_jsxDEV","AddScreening","_s","form","setForm","movieId","dateTime","room","message","setMessage","error","setError","validateForm","test","trim","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","parseInt","ok","errorData","json","status","console","size","px","children","order","mb","fileName","_jsxFileName","lineNumber","columnNumber","color","onSubmit","label","placeholder","value","onChange","target","required","type","justify","mt","_c","$RefreshReg$"],"sources":["C:/Users/folde/Desktop/Jegymester/jegymester-frontend/src/AddScreening.tsx"],"sourcesContent":["import { useState } from 'react';\r\nimport { MantineProvider, Container, Title, TextInput, Button, Group, Text } from '@mantine/core';\r\n\r\nfunction AddScreening() {\r\n  const [form, setForm] = useState({ movieId: '', dateTime: '', room: '' });\r\n  const [message, setMessage] = useState('');\r\n  const [error, setError] = useState('');\r\n\r\n  // Formátum ellenőrzés\r\n  const validateForm = () => {\r\n    if (!/^\\d+$/.test(form.movieId)) {\r\n      setError('A film azonosító csak szám lehet!');\r\n      return false;\r\n    }\r\n\r\n    if (!/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}$/.test(form.dateTime)) {\r\n      setError('A dátum formátuma hibás! Használja ezt a formátumot: ÉÉÉÉ-HH-NNTóó:pp (pl. 2025-04-05T14:30)');\r\n      return false;\r\n    }\r\n\r\n    if (!form.room.trim()) {\r\n      setError('A terem megadása kötelező!');\r\n      return false;\r\n    }\r\n\r\n    setError('');\r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://localhost:5214/api/Screening/add-screening', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          movieId: parseInt(form.movieId),\r\n          dateTime: form.dateTime,\r\n          room: form.room\r\n        }),\r\n      });\r\n\r\n      if (response.ok) {\r\n        setMessage('Vetítés sikeresen hozzáadva!');\r\n        setForm({ movieId: '', dateTime: '', room: '' });\r\n      } else {\r\n        const errorData = await response.json();\r\n        setError(`Hiba történt: ${response.status} - ${errorData.message || 'Ismeretlen hiba'}`);\r\n      }\r\n    } catch (error) {\r\n      setError('Kapcsolódási hiba történt a szerverhez!');\r\n      console.error('Hiba:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Container size=\"sm\" px=\"xs\">\r\n      <Title order={2} mb=\"md\">Új vetítés hozzáadása</Title>\r\n      \r\n      {message && <Text color=\"green\" mb=\"md\">{message}</Text>}\r\n      {error && <Text color=\"red\" mb=\"md\">{error}</Text>}\r\n      \r\n      <form onSubmit={handleSubmit}>\r\n        <TextInput\r\n          label=\"Film azonosító\"\r\n          placeholder=\"Pl. 123\"\r\n          value={form.movieId}\r\n          onChange={(e) => setForm({ ...form, movieId: e.target.value })}\r\n          mb=\"sm\"\r\n          required\r\n          type=\"number\"\r\n        />\r\n        \r\n        <TextInput\r\n          label=\"Időpont\"\r\n          placeholder=\"ÉÉÉÉ-HH-NNTóó:pp (pl. 2025-04-05T14:30)\"\r\n          value={form.dateTime}\r\n          onChange={(e) => setForm({ ...form, dateTime: e.target.value })}\r\n          mb=\"sm\"\r\n          required\r\n          type=\"datetime-local\"\r\n        />\r\n        \r\n        <TextInput\r\n          label=\"Terem\"\r\n          placeholder=\"Pl. Terem 1\"\r\n          value={form.room}\r\n          onChange={(e) => setForm({ ...form, room: e.target.value })}\r\n          mb=\"lg\"\r\n          required\r\n        />\r\n        \r\n        <Group justify=\"flex-end\" mt=\"md\">\r\n          <Button type=\"submit\" color=\"blue\">Hozzáadás</Button>\r\n        </Group>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default AddScreening;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}